(function(e){function n(n){for(var r,a,u=n[0],i=n[1],s=n[2],f=0,d=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(n);while(d.length)d.shift()();return c.push.apply(c,s||[]),t()}function t(){for(var e,n=0;n<c.length;n++){for(var t=c[n],r=!0,u=1;u<t.length;u++){var i=t[u];0!==o[i]&&(r=!1)}r&&(c.splice(n--,1),e=a(a.s=t[0]))}return e}var r={},o={app:0},c=[];function a(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=r,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)a.d(t,r,function(n){return e[n]}.bind(null,r));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="/web3modal-vue/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=n,u=u.slice();for(var s=0;s<u.length;s++)n(u[s]);var l=i;c.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},1:function(e,n){},10:function(e,n){},11:function(e,n){},12:function(e,n){},13:function(e,n){},14:function(e,n){},15:function(e,n){},16:function(e,n){},17:function(e,n){},18:function(e,n){},19:function(e,n){},2:function(e,n){},20:function(e,n){},21:function(e,n){},22:function(e,n){},23:function(e,n){},24:function(e,n){},3:function(e,n){},4:function(e,n){},5:function(e,n){},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("div",[e.web3Modal.active?t("div",[t("div",[e._v(e._s(e.web3Modal.account))]),t("div",[e._v(e._s(e.number))]),t("div",[t("button",{on:{click:e.getBalance}},[e._v("getBalance")]),e._v(" "+e._s(e.balance)+" ")])]):t("button",{on:{click:e.connect}},[e._v("Connect")])]),t("web3-modal-vue",{ref:"web3modal",attrs:{theme:e.theme,"provider-options":e.providerOptions,"cache-provider":""}})],1)},c=[],a=t("1da1"),u=t("5530"),i=(t("96cf"),t("a358")),s=t("307c"),l=t.n(s),f=t("2f62"),d={components:{Web3ModalVue:i["a"]},computed:Object(u["a"])({},Object(f["b"])(["web3Modal"])),data:function(){return{theme:"light",providerOptions:{walletconnect:{package:l.a,options:{infuraId:"-"}}},number:0,balance:0}},created:function(){window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(this.theme="dark")},mounted:function(){var e=this;this.$nextTick(Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.web3Modal.web3.eth.getBlockNumber();case 2:e.number=n.sent;case 3:case"end":return n.stop()}}),n)})))),this.$nextTick(Object(a["a"])(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t=e.$refs.web3modal,e.$store.commit("setWeb3Modal",t),!t.cacheProvider){n.next=7;break}return console.log(t.cacheProvider),n.next=6,e.$store.dispatch("connect");case 6:e.subscribeMewBlockHeaders();case 7:case"end":return n.stop()}}),n)}))))},methods:{connect:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("connect");case 2:e.subscribeMewBlockHeaders();case 3:case"end":return n.stop()}}),n)})))()},subscribeMewBlockHeaders:function(){var e=this;this.web3Modal.web3.eth.subscribe("newBlockHeaders",(function(n,t){e.number=t.number}))},getBalance:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.web3Modal.web3.eth.getBalance(e.web3Modal.account);case 2:t=n.sent,e.balance=e.web3Modal.web3.utils.fromWei(t),console.log(e.balance);case 5:case"end":return n.stop()}}),n)})))()}}},p=d,b=t("2877"),h=Object(b["a"])(p,o,c,!1,null,null,null),w=h.exports,m=t("8c4f"),v=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"home"})},g=[],M={name:"Home",components:{}},x=M,k=Object(b["a"])(x,v,g,!1,null,null,null),O=k.exports;r["a"].use(m["a"]);var j=[{path:"/",name:"Home",component:O}],y=new m["a"]({routes:j}),R=y,_=t("2b30"),A=t.n(_),C=new A.a.providers.HttpProvider("https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161",{timeout:1e4});console.log("https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161");var P=new A.a(C),B=function(){return P};r["a"].use(f["a"]);var $=new f["a"].Store({state:{web3Modal:{web3Modal:null,web3:B(),active:!1,account:null,chainId:0}},mutations:{setWeb3Modal:function(e,n){e.web3Modal.web3Modal=n},setWeb3:function(e,n){e.web3Modal.web3=n},setActive:function(e,n){e.web3Modal.active=n},setAccount:function(e,n){e.web3Modal.account=n},setChainId:function(e,n){e.web3Modal.web3Modal=n}},actions:{connect:function(e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var t,r,o,c,u,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e.state,r=e.commit,o=e.dispatch,n.next=3,t.web3Modal.web3Modal.connect();case 3:return c=n.sent,u=new A.a(c),r("setWeb3",u),n.next=8,u.eth.getAccounts();case 8:return i=n.sent,i.length>0&&r("setAccount",i[0]),n.next=12,u.eth.getChainId();case 12:s=n.sent,r("setChainId",s),r("setActive",!0),c.on("connect",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("connect",n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),c.on("accountsChanged",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=4;break}r("setAccount",n[0]),e.next=7;break;case 4:return r("setAccount",null),e.next=7,o("resetApp");case 7:console.log("accountsChanged");case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),c.on("chainChanged",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r("setChainId",n),console.log("chainChanged");case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 18:case"end":return n.stop()}}),n)})))()},resetApp:function(e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var t,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e.state,r=e.commit,n.prev=1,n.next=4,t.web3Modal.web3Modal.clearCachedProvider();case 4:n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](1),console.error(n.t0);case 9:r("setAccount",null),r("setActive",!1);case 11:case"end":return n.stop()}}),n,null,[[1,6]])})))()}}});r["a"].config.productionTip=!1,new r["a"]({router:R,store:$,render:function(e){return e(w)}}).$mount("#app")},6:function(e,n){},7:function(e,n){},8:function(e,n){},9:function(e,n){}});
//# sourceMappingURL=app.1d33e1f8.js.map